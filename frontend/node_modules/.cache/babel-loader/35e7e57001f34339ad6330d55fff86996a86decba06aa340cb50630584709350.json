{"ast":null,"code":"var _jsxFileName = \"/Users/mnasrnjan/Desktop/ai_bhojpuri_tutor/frontend/src/BhojpuriPhysicsTutor.js\",\n  _s = $RefreshSig$();\n// BhojpuriPhysicsTutor.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ReactPlayer from 'react-player';\n// import { useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst BACKEND_URL = 'http://localhost:8000'; // Update with your backend URL\n\nconst BhojpuriPhysicsTutor = () => {\n  _s();\n  const [prompt, setPrompt] = useState(''); // Store the question from the user\n  const [explanation, setExplanation] = useState('');\n  const [quizJson, setQuizJson] = useState([]);\n  const [jsCode, setJsCode] = useState('');\n  const [diagramExplanation, setDiagramExplanation] = useState('');\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [audioUrl, setAudioUrl] = useState('');\n  const cleanJsCode = gptOutput => {\n    return gptOutput.replace(/```(javascript|js)?\\s*/g, '').replace('```', '').trim();\n  };\n  const speakText = text => {\n    const url = `http://api.voicerss.org/?key=YOUR_VOICERSS_API_KEY&hl=en-us&src=${text}`;\n    setAudioUrl(url);\n  };\n  const fetchExplanationAndQuiz = async () => {\n    try {\n      const response = await axios.post(`${BACKEND_URL}/explain`, {\n        prompt\n      });\n      const data = response.data;\n      if (data.error) {\n        alert('Error: ' + data.error);\n        return;\n      }\n      setExplanation(data.explanation);\n      setQuizJson(data.quiz);\n      setIsInitialized(true);\n    } catch (error) {\n      console.error('Error fetching explanation:', error);\n    }\n  };\n  const fetchDiagramAndAnimation = async () => {\n    try {\n      const response = await axios.post(`${BACKEND_URL}/generate_diagram_code`, {\n        prompt\n      });\n      const data = response.data;\n      setJsCode(cleanJsCode(data.p5js));\n      setDiagramExplanation(data.explanation);\n    } catch (error) {\n      console.error('Error fetching diagram and animation:', error);\n    }\n  };\n  useEffect(() => {\n    if (prompt && !isInitialized) {\n      fetchExplanationAndQuiz();\n      fetchDiagramAndAnimation();\n    }\n  }, [prompt, isInitialized]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Bhojpuri Physics Tutor (AI-Powered)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: \"Ask a physics question and the AI tutor will explain it in Bhojpuri with text, audio, and diagrams.\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      placeholder: \"Ask a physics question...\",\n      value: prompt,\n      onChange: e => setPrompt(e.target.value)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: fetchExplanationAndQuiz,\n      children: \"Ask\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this), isInitialized && explanation && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Step 1: Explanation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: explanation\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => speakText(explanation),\n        children: \"Listen\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"audio\", {\n        src: audioUrl,\n        controls: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 9\n    }, this), jsCode && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Step 2: Diagram & Animation\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n        title: \"p5.js Diagram\",\n        srcDoc: jsCode,\n        width: \"600\",\n        height: \"500\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 9\n    }, this), quizJson.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Step 3: Quiz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 11\n      }, this), quizJson.map((q, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: q.question\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 107,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: q.options.map((option, i) => /*#__PURE__*/_jsxDEV(\"label\", {\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"radio\",\n              name: `q${index}`,\n              value: option\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 21\n            }, this), option]\n          }, i, true, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 15\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 13\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this);\n};\n_s(BhojpuriPhysicsTutor, \"3s0bPP5Sr4Hm5eg4P8FXKIR2Jxc=\");\n_c = BhojpuriPhysicsTutor;\nexport default BhojpuriPhysicsTutor;\nvar _c;\n$RefreshReg$(_c, \"BhojpuriPhysicsTutor\");","map":{"version":3,"names":["React","useEffect","useState","axios","ReactPlayer","jsxDEV","_jsxDEV","BACKEND_URL","BhojpuriPhysicsTutor","_s","prompt","setPrompt","explanation","setExplanation","quizJson","setQuizJson","jsCode","setJsCode","diagramExplanation","setDiagramExplanation","isInitialized","setIsInitialized","audioUrl","setAudioUrl","cleanJsCode","gptOutput","replace","trim","speakText","text","url","fetchExplanationAndQuiz","response","post","data","error","alert","quiz","console","fetchDiagramAndAnimation","p5js","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","src","controls","title","srcDoc","width","height","length","map","q","index","question","options","option","i","name","_c","$RefreshReg$"],"sources":["/Users/mnasrnjan/Desktop/ai_bhojpuri_tutor/frontend/src/BhojpuriPhysicsTutor.js"],"sourcesContent":["// BhojpuriPhysicsTutor.js\nimport React, { useEffect, useState } from 'react';\nimport axios from 'axios';\nimport ReactPlayer from 'react-player';\n// import { useState } from 'react';\n\nconst BACKEND_URL = 'http://localhost:8000'; // Update with your backend URL\n\nconst BhojpuriPhysicsTutor = () => {\n  const [prompt, setPrompt] = useState(''); // Store the question from the user\n  const [explanation, setExplanation] = useState('');\n  const [quizJson, setQuizJson] = useState([]);\n  const [jsCode, setJsCode] = useState('');\n  const [diagramExplanation, setDiagramExplanation] = useState('');\n  const [isInitialized, setIsInitialized] = useState(false);\n  const [audioUrl, setAudioUrl] = useState('');\n\n  const cleanJsCode = (gptOutput) => {\n    return gptOutput.replace(/```(javascript|js)?\\s*/g, '').replace('```', '').trim();\n  };\n\n  const speakText = (text) => {\n    const url = `http://api.voicerss.org/?key=YOUR_VOICERSS_API_KEY&hl=en-us&src=${text}`;\n    setAudioUrl(url);\n  };\n\n  const fetchExplanationAndQuiz = async () => {\n    try {\n      const response = await axios.post(`${BACKEND_URL}/explain`, { prompt });\n      const data = response.data;\n\n      if (data.error) {\n        alert('Error: ' + data.error);\n        return;\n      }\n\n      setExplanation(data.explanation);\n      setQuizJson(data.quiz);\n      setIsInitialized(true);\n    } catch (error) {\n      console.error('Error fetching explanation:', error);\n    }\n  };\n\n  const fetchDiagramAndAnimation = async () => {\n    try {\n      const response = await axios.post(`${BACKEND_URL}/generate_diagram_code`, { prompt });\n      const data = response.data;\n\n      setJsCode(cleanJsCode(data.p5js));\n      setDiagramExplanation(data.explanation);\n    } catch (error) {\n      console.error('Error fetching diagram and animation:', error);\n    }\n  };\n\n  useEffect(() => {\n    if (prompt && !isInitialized) {\n      fetchExplanationAndQuiz();\n      fetchDiagramAndAnimation();\n    }\n  }, [prompt, isInitialized]);\n\n  return (\n    <div>\n      <h1>Bhojpuri Physics Tutor (AI-Powered)</h1>\n      <p>Ask a physics question and the AI tutor will explain it in Bhojpuri with text, audio, and diagrams.</p>\n\n      {/* Input for question */}\n      <input \n        type=\"text\" \n        placeholder=\"Ask a physics question...\" \n        value={prompt}\n        onChange={(e) => setPrompt(e.target.value)}\n      />\n      <button onClick={fetchExplanationAndQuiz}>Ask</button>\n\n      {/* Explanation and Audio */}\n      {isInitialized && explanation && (\n        <div>\n          <h2>Step 1: Explanation</h2>\n          <p>{explanation}</p>\n          <button onClick={() => speakText(explanation)}>Listen</button>\n          <audio src={audioUrl} controls />\n        </div>\n      )}\n\n      {/* Diagram and Animation */}\n      {jsCode && (\n        <div>\n          <h2>Step 2: Diagram & Animation</h2>\n          <iframe\n            title=\"p5.js Diagram\"\n            srcDoc={jsCode}\n            width=\"600\"\n            height=\"500\"\n          />\n        </div>\n      )}\n\n      {/* Quiz */}\n      {quizJson.length > 0 && (\n        <div>\n          <h2>Step 3: Quiz</h2>\n          {quizJson.map((q, index) => (\n            <div key={index}>\n              <p>{q.question}</p>\n              <div>\n                {q.options.map((option, i) => (\n                  <label key={i}>\n                    <input \n                      type=\"radio\" \n                      name={`q${index}`} \n                      value={option} \n                    />\n                    {option}\n                  </label>\n                ))}\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default BhojpuriPhysicsTutor;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}